# AtCoder-heuristic-Contest048
## Contest time 5/30 19:00～6/9 19:00


## Question



## plan

### 5/30(1日目)
１．解法:２本混ぜ最もターゲットの色に近い色を作る
 * 1. 仕切りを全部下げて連結ウェルを1つにする
 * 2. 2本のチューブから色を混ぜて、ターゲットの色に最も近い色を作る

 絶対得点135,779,851、相対得点：3,369,391,521  パフォ1005 (5/31 0:29時点)

 2.解法　仕切り等を使っていないため使う
 =>仕切る方法で得点変わってくる？
 ＝＞どうやって仕切る？

 解法:２本混ぜ最もターゲットの色に近い色を作る
 * 1. 4マス正方形（2x2）のウェルを作る
 * 2. 2本のチューブから色を混ぜて、ターゲットの色に最も近い色を作る

 絶対得点166,336,640、相対得点：3,169,555,693  パフォ956 (5/31 0:29時点) 下がった

 ここで勘違い発覚　絶対得点は小さいほうがいい

 解法３：貪欲法使用する
 1つ目のターゲット色を適当に選び、以降は「現在の色に最も近い未使用のターゲット色」を順に選んで並べる。

#### 解法4：TSP順序最適化＋全仕切り下げ＋再利用
- 1. 仕切りを全て下げてパレット全体を1つの大ウェルにする  
- 2. ターゲット色の順序をTSP（巡回セールスマン問題）近似（Nearest Neighbor法＋2-opt）で最適化  
- 3. 直前に作った色が十分近ければ再利用し、操作回数・誤差を抑える  
- 4. 1本注ぎで十分近い場合は1本だけ注ぐ。どちらもダメなら2本混ぜで最適な比率を探索

絶対得点：135,295,432　相対得点：2,898,549,433　パフォ973（5/31時点2:30） 最高得点

**工夫ポイント**
- 色順序最適化で色移動距離を短縮
- 仕切りを使わず全体を大ウェル化し、色の再利用を最大化
- 2-opt法で色順序をさらに改善
- 1本注ぎ・既存色再利用で操作回数を削減
 
次から大ウェルから＝＞区切り付けて考える
問題を吟味して考える(方針　得点上げ方)
目標　相対得点50億！！


### 5/31(2日目)

####解法５(最高得点)
5×5のウェル（wellSize=4, N=20で25個）に分割し、
 * まず全てのウェルに色を1gずつ入れてから調整を始める。
 * 
 * 各ターゲット色ごとに：
 *   1. 全ウェルから最も近い色を探索し、1g以上あればそのまま渡す。
 *   2. 追加注ぎ（動作1）で近づく場合は追加して渡す。
 *   3. 動作4（隣接マス間の仕切りを外して混ぜる）で近づく場合は混ぜて渡す。
 *   4. それでもダメなら一番近いウェルを上書きして渡す。
 * 
 * 各ウェルのグラム数を管理し、1g未満の場合は渡せない・混ぜられないようにしている。
 * 動作4はマス単位で隣接判定し、正しく混合できるようにしている。

 絶対得点：63,232,152　相対得点：3,791,025,935　パフォ1404（5/31時点15:13） 


